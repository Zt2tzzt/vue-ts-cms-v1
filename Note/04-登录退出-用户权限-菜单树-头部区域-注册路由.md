登录成功，页面跳转，两种方案：

方案一：在 store 中跳转（项目中使用）。

方案二：在 LoginPanel 中跳转。



为 Main 页面编写导航守卫，要求进行登录。



在 Main 中退出登录。

删除登录的 token

返回 /login



登录时记住密码功能的编写。

将“是否记住密码”的状态，传给子组件 PannelAccount。

保留该状态，用户名和密码。



PanelPhone 页面搭建。



了解 RBAC 设计思想。

角色表与权限表是多对多的关系，通常会加入中间表。



获取用户的角色，以及角色对应的权限，都需要发送网络秦桧。

根据 id 获取角色，封装请求。

根据角色获取权限，封装请求。



在 store 中发送请求，获取用户信息（里面有角色信息）。

发送请求时，需要将 token 放在 header 中，在拦截器中操作。

将返回用户信息保存到 store 中。再保存到 storage 中。

为 store 中的 state 指定类型，即给函数返回值指定类型。



在 store 中发送请求，获取用户的菜单。

将返回的菜单保存到 store 中。再保存到 storage 中。



使用 Container 容器布局，布局 Main 页面。



创建 MainMenu.vue 和 MainHeader.vue 组件，分别用来编写 Menu，Header 区域。



在 MainMenu 中，编写顶部 logo 和标题。

使用 el-menu 编写菜单的主体部分。 解构分析：

- el-sub-menu，可以有子菜单，并且是可以展开。
  - el-menu-item-group：对子菜单进行分组，不能展开。
  - el-menu-item：可以交互（点击）。

在 Main 中设置样式，隐藏 Menu 区域的滚动条。



再 MainMenu 中使用 loginstore，获取菜单数据，并进行遍历展示。

Pinia 中的 store 是动态加载的。用到了，才会创建。

给 el-sub-menu 和 el-menu-item 加上 index 属性，以免点击时所有层级都展开。

刷新时，默认打开一个菜单，使用 el-menu 上的 default-active 属性设置索引。

使用动态组件 Component 展示图标。

> 当服务器返回的数据很乱时，编写一个工具函数，进行映射和整理数据



搭建 MainHeader 的解构。